How to extract key from a device


1. boot the device with recovery mode

2. read key partition from the device using "nvflash --read N <filename> --bl bootloader.bin --go". N should be id of EKS partion which is defined in flash.cfg
Ex)
$ cd $OUT
$ $TOP/out/host/linux-x86/bin/nvflash --read 5 "my_eks.dat" --bl bootloader.bin --go

3. run eks_extract_key.py with the file above, SBK, index of the key slot, and algorithm which is used to encrypt the key.
for "--algo", it should match with the argument for algorithm supported by openssl. Please check OPENSSL
Ex)
$ python eks_extract_key.py --sbk=00000000000000000000000000000000 --eks=my_eks.dat --index=0 --algo=aes-128-cbc

4. the python tool will generate "Key_<index>.dat" file if the key is available in the slot
